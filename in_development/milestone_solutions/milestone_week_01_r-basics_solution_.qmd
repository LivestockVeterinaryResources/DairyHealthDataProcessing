---
title: R Basics
format: html
---

```{r}
#| label: setup
#| include: false
library(tidyverse)
library(arrow)
library(skimr)
library(waldo)

# We will learn what this code does in Milestone 2
animals <- read_parquet("../data/intermediate_files/animals.parquet")%>%
  filter(!(is.na(age_left)))

```

## R Basics

In this milestone, you'll become familiar with the `animals` data set.

## Recreation

### Part 1

The data we will use in our investigation is saved as an R object named `animals`. Use R to inspect the contents of `animals`:

-   Display the contents of `animals`
-   Use `nrow()` to find the number of observations in `animals`. Name this "number_of_rows". (hint: you should see "number_of_rows" in your environment)
-   Use `mean()` to find the average age an animal left (hint: use the variable named "age_left"). Name this "average_age_left".
-   Use `count()` from the dplyr package to count the number of observations associated with each location, breed and sex (hint: variable names should be "breed", "sex", "location_list". Name this 'counts'.

*Hint: you may want to look up the help pages for each of these functions.*

Write your code in the following chunk:

```{r}
#| label: recreation

animals

number_of_rows<-nrow(animals)

age_left<-mean(animals$age_left)

counts<-animals%>%count(breed, sex, location_list)

#create solutions
write_rds(number_of_rows, 'data_milestones/solutions_week_01_number_of_rows.rds')
write_rds(age_left, 'data_milestones/solutions_week_01_age_left.rds')
write_rds(counts, 'data_milestones/solutions_week_01_counts.rds')



```

#### Check your answers

To check your answers run the code chunks below. If your answer exactly matches the solution it will say "No differences". If you like your answer, but it is different we can discuss in class. There are many ways to do things that work.

Check number_of_rows:

```{r, echo=FALSE}

waldo::compare(number_of_rows, read_rds('data_milestones/solutions_week_01_number_of_rows.rds'))

```

Check age_left:

```{r, echo=FALSE}

waldo::compare(age_left, read_rds('data_milestones/solutions_week_01_age_left.rds'))

```

Check counts:

```{r, echo=FALSE}

waldo::compare(counts, read_rds('data_milestones/solutions_week_01_counts.rds'))

```

### Part 2

Now summarize the data:

-   Use `summary()` to generate a summary of the data set
-   Use `skim()` to see a different type of summary of the data set (warning: this function may take some time) - Bonus: save the output of your skim function to your environment. Name it "skim_animals".

Write your code in the following chunk:

```{r}
#| label: recreation of summary

summary(animals)

skim_animals<-skimr::skim(animals)

#write solution
write_rds(skim_animals, 'data_milestones/solutions_week_01_skim_animals.rds')


```

Check your answer to `skim()`

```{r}
waldo::compare(skim_animals, read_rds('data_milestones/solutions_week_01_skim_animals.rds'))
```

## Extension

Explore `animals` in a new way. Consider using a new function, or something that you can learn from a help page. Alternatively, try to learn more about the other variables in `animals`. Keep in mind that we will study how to make plots for the next milestone.

Write your extension code in the following chunk:

```{r}
#| label: extension

```
